<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTIRIC | FLIGHT RECORDER</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìº</text></svg>">
    <link rel="stylesheet" href="/ui/css/theme.css">
    <link rel="stylesheet" href="/ui/css/layout.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- TOP NAVIGATION & STATUS -->
        <header>
            <div class="h-group">
                <div class="brand">
                    <span class="icon">üìº</span>
                    <span class="text">SENTIRIC <span class="dim">OBSERVER</span></span>
                </div>
                <div class="separator"></div>
                <div class="connection-pod">
                    <div id="ws-status" class="status-dot offline"></div>
                    <span id="ws-text">DISCONNECTED</span>
                </div>
            </div>

            <div class="h-group center">
                <!-- SNIFFER CONTROLLER -->
                <div class="control-surface">
                    <span class="label">NETWORK INTERCEPT</span>
                    <label class="toggle">
                        <input type="checkbox" id="sniffer-toggle">
                        <span class="track">
                            <span class="knob"></span>
                        </span>
                    </label>
                    <span id="sniffer-status-text" class="status-val">OFF</span>
                </div>
            </div>

            <div class="h-group right">
                <div class="stat-pill">
                    <span class="k">PPS</span>
                    <span class="v" id="pps-val">0</span>
                </div>
                <div class="stat-pill">
                    <span class="k">BUFFER</span>
                    <span class="v" id="buffer-usage">0%</span>
                </div>
            </div>
        </header>

        <!-- FILTER & ACTION BAR -->
        <nav id="toolbar">
            <div class="search-container">
                <span class="s-icon">üîç</span>
                <input type="text" id="filter-trace" class="search-input" placeholder="Filter by Trace ID / Call-ID...">
            </div>
            
            <div class="filters">
                <input type="text" id="filter-svc" class="input-std" placeholder="Service...">
                <input type="text" id="filter-msg" class="input-std grow" placeholder="Content grep...">
                <select id="filter-level" class="select-std">
                    <option value="ALL">ALL LEVELS</option>
                    <option value="WARN">WARN & ERROR</option>
                    <option value="ERROR">ERROR ONLY</option>
                </select>
            </div>

            <div class="actions">
                <button id="btn-pause" class="btn">PAUSE</button>
                <button id="btn-clear" class="btn">CLEAR</button>
                <div class="separator"></div>
                <div class="dropdown">
                    <button class="btn primary">EXPORT ‚ñæ</button>
                    <div class="dropdown-content">
                        <a href="#" id="btn-export-raw">üìÑ Forensic Snapshot (JSON)</a>
                        <a href="#" id="btn-export-ai">ü§ñ AI Context (Text)</a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- MAIN WORKSPACE -->
        <main id="workspace">
            <!-- LOG LIST -->
            <div id="log-pane">
                <div class="grid-header">
                    <div class="col-ts">TIME</div>
                    <div class="col-lvl">LVL</div>
                    <div class="col-svc">SERVICE</div>
                    <div class="col-evt">EVENT</div>
                    <div class="col-msg">PAYLOAD SUMMARY</div>
                </div>
                <div id="log-scroller">
                    <div id="log-content">
                        <!-- Logs injected here -->
                    </div>
                </div>
            </div>

            <!-- DETAIL PANE (INSPECTOR) -->
            <div id="detail-pane">
                <div class="pane-header">
                    <span class="pane-title">EVENT DETAILS</span>
                    <button id="btn-close-detail" class="icon-btn">‚úï</button>
                </div>
                
                <div class="pane-content">
                    <div id="empty-state" class="empty-state">
                        Select a log entry to inspect details.
                    </div>
                    
                    <div id="detail-view" style="display:none;">
                        <!-- Meta Info -->
                        <div class="meta-grid">
                            <div class="meta-item">
                                <span class="k">TIMESTAMP</span>
                                <span class="v" id="det-ts">-</span>
                            </div>
                            <div class="meta-item">
                                <span class="k">SERVICE</span>
                                <span class="v" id="det-svc">-</span>
                            </div>
                            <div class="meta-item">
                                <span class="k">TRACE ID</span>
                                <span class="v trace-link" id="det-trace">-</span>
                            </div>
                        </div>

                        <!-- Tabs -->
                        <div class="tabs">
                            <button class="tab active" data-tab="tab-formatted">FORMATTED</button>
                            <button class="tab" data-tab="tab-raw">RAW SOURCE</button>
                        </div>

                        <!-- Content -->
                        <div class="tab-content active" id="tab-formatted">
                            <pre id="json-viewer" class="code-block"></pre>
                        </div>
                        <div class="tab-content" id="tab-raw">
                            <div class="raw-note">Raw SIP/RTP payload captured from wire:</div>
                            <pre id="raw-payload" class="code-block raw"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- FOOTER -->
        <footer>
            <div class="f-left">
                <span id="total-logs-val">0</span> Events Captured
            </div>
            <div class="f-right">
                SENTIRIC FLIGHT RECORDER v6.2
            </div>
        </footer>
    </div>

    <script src="/ui/js/config.js"></script>
    <script type="module" src="/ui/js/app.js"></script>
</body>
</html>