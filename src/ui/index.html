<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTIRIC | PANOPTICON v4.2</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëÅÔ∏è</text></svg>">
    <link rel="stylesheet" href="/ui/css/theme.css">
    <link rel="stylesheet" href="/ui/css/layout.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- TACTICAL HEADER -->
        <header>
            <div class="brand">
                <span class="logo-icon">üëÅÔ∏è</span> 
                <div class="brand-text">
                    <span class="title">SENTIRIC PANOPTICON</span>
                    <span class="subtitle">TELEMETRY & INTELLIGENCE NODE</span>
                </div>
                <div id="ws-status" class="status-badge disconnected">OFFLINE</div>
            </div>

            <div class="center-console">
                <div class="sniffer-widget">
                    <span class="radar-icon">üì°</span>
                    <div class="sniffer-info">
                        <span class="lbl">NETWORK SNIFFER (L2/L3)</span>
                        <span id="sniffer-status" class="val standby">STANDBY</span>
                    </div>
                    <label class="tactical-switch">
                        <input type="checkbox" id="sniffer-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div class="metrics-panel">
                <canvas id="pulse-chart"></canvas>
                <div class="metric-box">
                    <span class="val" id="pps-val">0</span>
                    <span class="lbl">MSG/SEC</span>
                </div>
                <div class="metric-box">
                    <span class="val" id="total-logs-val">0</span>
                    <span class="lbl">MEMORY</span>
                </div>
                <!-- [CRITICAL FIX]: Eksik olan Buffer Usage id'si eklendi -->
                <div class="metric-box">
                    <span class="val" id="buffer-usage">0%</span>
                    <span class="lbl">BUFFER</span>
                </div>
            </div>
        </header>

        <!-- WIRESHARK STYLE FILTER BAR -->
        <section id="toolbar">
            <div class="search-group">
                <span class="search-icon">üîç</span>
                <input type="text" id="filter-trace" placeholder="Trace ID / Call ID (Lock Stream)..." class="filter-input primary-search">
            </div>
            <div class="divider"></div>
            <input type="text" id="filter-svc" placeholder="Service (e.g. sbc-service)" class="filter-input">
            <input type="text" id="filter-msg" placeholder="Payload / Message Match..." class="filter-input" style="flex:1;">
            <select id="filter-level" class="filter-input">
                <option value="ALL">ALL SEVERITY</option>
                <option value="WARN">WARN & ERROR</option>
                <option value="ERROR">ERROR ONLY</option>
            </select>
            <div class="divider"></div>
            <button id="btn-pause" class="action-btn">‚è∏ PAUSE</button>
            <button id="btn-clear" class="action-btn danger">üóë CLEAR</button>
        </section>

        <!-- MAIN MATRIX VIEW -->
        <section id="main-view">
            <div id="matrix-console">
                <!-- Table Header -->
                <div class="matrix-header">
                    <div class="col-time">TIMESTAMP</div>
                    <div class="col-sev">LVL</div>
                    <div class="col-svc">SERVICE</div>
                    <div class="col-evt">EVENT TYPE</div>
                    <div class="col-msg">PAYLOAD / SUMMARY</div>
                </div>
                <!-- Virtual Scroll Container -->
                <div id="console-wrapper">
                    <div id="console-content"></div>
                </div>
            </div>
            
            <!-- DEEP INSPECTION PANEL -->
            <aside id="inspector-panel">
                <div class="inspector-header">
                    <div class="insp-title">
                        <span style="color:var(--accent);">üî¨</span> PACKET INSPECTOR
                    </div>
                    <button id="btn-close-inspector" class="close-btn">‚úï</button>
                </div>
                
                <div class="inspector-actions">
                    <button id="btn-follow-trace" class="insp-btn trace-btn">üîó FOLLOW TRACE</button>
                    <button id="btn-copy-json" class="insp-btn">üìã COPY JSON</button>
                </div>

                <!-- FUTURE: RTP AUDIO RECONSTRUCTION MODULE -->
                <div id="media-player-module" class="media-module" style="display: none;">
                    <div class="media-header">üéôÔ∏è RTP AUDIO RECONSTRUCTION (PREVIEW)</div>
                    <div class="media-body">
                        <div class="waveform-mock">
                            <div class="bar" style="height:20%"></div><div class="bar" style="height:50%"></div>
                            <div class="bar" style="height:80%"></div><div class="bar" style="height:30%"></div>
                            <div class="bar" style="height:90%"></div><div class="bar" style="height:40%"></div>
                            <div class="bar" style="height:10%"></div><div class="bar" style="height:60%"></div>
                            <div class="bar" style="height:100%"></div><div class="bar" style="height:20%"></div>
                        </div>
                        <div class="media-controls">
                            <button class="play-btn" disabled>‚ñ∂ PLAY</button>
                            <span class="media-info">Codec: <span id="audio-codec-info">G.711</span> | PT: <span id="audio-pt-info">0</span></span>
                        </div>
                        <div class="media-warning">Live decoding module offline. Required: sente-dsp.wasm</div>
                    </div>
                </div>

                <div id="inspector-detail" class="inspector-content">
                    <div class="placeholder">Select a packet from the matrix to inspect.</div>
                </div>
            </aside>
        </section>
        
        <footer>
            <span>SYSTEM: SENTIRIC MESH</span>
            <span>CAPACITY: 10,000 PACKETS IN-MEMORY (RING BUFFER)</span>
        </footer>
    </div>

    <script src="/ui/js/config.js"></script>
    <script type="module" src="/ui/js/app.js"></script>
</body>
</html>