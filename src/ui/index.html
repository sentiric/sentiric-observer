<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTIRIC | PANOPTICON v8.0</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëÅÔ∏è</text></svg>">
    <link rel="stylesheet" href="/ui/css/theme.css">
    <link rel="stylesheet" href="/ui/css/layout.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700;800&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- GLOBAL HEADER -->
        <header id="topbar">
            <div class="header-zone brand-zone">
                <div class="logo-core">
                    <span class="logo-icon">üëÅÔ∏è</span>
                    <div class="brand-titles">
                        <span class="title">PANOPTICON</span>
                        <span class="subtitle">SOVEREIGN FLIGHT RECORDER</span>
                    </div>
                </div>
                <div id="ws-status" class="status-pill offline">OFFLINE</div>
            </div>

            <div class="header-zone center-zone">
                <div class="sniffer-pod">
                    <div class="pod-info">
                        <span class="pod-lbl">L2/L3 WIRE SNIFFER</span>
                        <span id="sniffer-status" class="pod-val standby">STANDBY</span>
                    </div>
                    <label class="cyber-toggle">
                        <input type="checkbox" id="sniffer-toggle">
                        <span class="toggle-track"></span>
                    </label>
                </div>
            </div>

            <div class="header-zone metrics-zone">
                <div class="metric"><b id="pps-val">0</b><span>PPS</span></div>
                <div class="metric"><b id="mem-val">0%</b><span>RAM</span></div>
                <div class="metric"><b id="total-val">0</b><span>EVENTS</span></div>
            </div>
        </header>

        <!-- IDE WORKSPACE -->
        <div id="workspace">
            
            <!-- LEFT PANEL: TRACE EXPLORER -->
            <aside id="left-sidebar">
                <div class="sidebar-header">
                    <span>üì° ACTIVE CALLS & TRACES</span>
                </div>
                <div class="sidebar-toolbar">
                    <button id="btn-clear-traces" class="s-btn">CLEAR</button>
                    <button id="btn-unlock-trace" class="s-btn primary" style="display:none;">üîì UNLOCK</button>
                </div>
                <div id="trace-list" class="trace-scroller">
                    <div class="empty-hint">Waiting for calls...</div>
                    <!-- JS will inject traces here -->
                </div>
            </aside>

            <!-- CENTER PANEL: MATRIX -->
            <main id="center-matrix">
                <div id="matrix-toolbar">
                    <div class="search-box">
                        <span class="icon">üîç</span>
                        <input type="text" id="filter-global" placeholder="Search Payload or Trace ID...">
                    </div>
                    <select id="filter-level" class="t-select">
                        <option value="ALL">ALL LEVELS</option>
                        <option value="WARN">WARN & ERROR</option>
                        <option value="ERROR">ERROR ONLY</option>
                    </select>
                    <button id="btn-toggle-noise" class="t-btn active">üîá NOISE: HIDDEN</button>
                    <div class="spacer"></div>
                    <button id="btn-pause" class="t-btn">‚è∏ PAUSE</button>
                    <button id="btn-export-ai" class="t-btn highlight">ü§ñ AI EXPORT</button>
                </div>

                <div class="matrix-headers">
                    <div class="c-ts">TIMESTAMP</div>
                    <div class="c-lvl">LVL</div>
                    <div class="c-svc">SERVICE</div>
                    <div class="c-evt">EVENT TYPE</div>
                    <div class="c-msg">PAYLOAD / SUMMARY</div>
                </div>

                <div id="matrix-scroller">
                    <div id="matrix-content">
                        <!-- JS will inject log rows here -->
                    </div>
                </div>
            </main>

            <!-- RIGHT PANEL: PACKET INSPECTOR -->
            <aside id="right-sidebar">
                <div class="sidebar-header">
                    <span>üî¨ PACKET INSPECTOR</span>
                    <button id="btn-close-inspector" class="close-btn">‚úï</button>
                </div>

                <div class="inspector-scroll">
                    <div id="insp-placeholder" class="empty-hint">Click a row in the matrix to inspect.</div>
                    
                    <div id="insp-content" style="display: none;">
                        <div class="insp-meta">
                            <div class="meta-row"><span class="k">TIME:</span> <span class="v" id="det-ts"></span></div>
                            <div class="meta-row"><span class="k">NODE:</span> <span class="v" id="det-node"></span></div>
                            <div class="meta-row"><span class="k">SVC:</span>  <span class="v" id="det-svc"></span></div>
                            <div class="meta-row"><span class="k">TRACE:</span><span class="v" id="det-trace" style="color:var(--accent);"></span></div>
                        </div>

                        <!-- RTP ANALYZER -->
                        <div id="rtp-analyzer" class="analyzer-box" style="display: none;">
                            <div class="a-title">RTP STREAM METRICS</div>
                            <div class="a-grid">
                                <div><small>PAYLOAD TYPE</small><br><b id="rtp-pt"></b></div>
                                <div><small>SEQUENCE</small><br><b id="rtp-seq"></b></div>
                                <div><small>PACKET SIZE</small><br><b id="rtp-len"></b></div>
                            </div>
                        </div>

                        <!-- PAYLOAD DATA -->
                        <div class="data-section">
                            <div class="section-title">EVENT ATTRIBUTES (JSON)</div>
                            <pre id="det-json" class="code-block"></pre>
                        </div>

                        <div id="raw-section" class="data-section" style="display: none;">
                            <div class="section-title" style="color:var(--info);">RAW WIRE PAYLOAD</div>
                            <pre id="det-raw" class="code-block raw"></pre>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <footer id="footer">
            <div>SENTIRIC MESH INFRASTRUCTURE</div>
            <div>STATUS: OPTIMAL</div>
        </footer>
    </div>

    <script src="/ui/js/config.js"></script>
    <script type="module" src="/ui/js/app.js"></script>
</body>
</html>